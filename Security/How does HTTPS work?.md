# HTTPS의 동작 방식
> HTTPS(Hypertext Transfer Protocol Secure)는 HTTP의 확장이다. HTTPS는 Transport Layer Security(TLS)를 사용해서 암호화된 데이터를 보낸다. 만약 암호화된 데이터를 갈취한다면, 공격자는 바이너리 코드만 받게된다.
![alt text](https://github.com/ByteByteGoHq/system-design-101/blob/main/images/https.jpg?raw=true)

## HTTPS의 데이터 암, 복호화 과정
1. 클라이언트와 서버간 TCP연결을 진행한다.
  

2. 클라이언트가 서버에게 "client hello"를 보낸다. 해당 메시지에는 암호화 알고리즘의 모음집(cipher suites)과 이를 지원하는 TLS 최신버전이 포함되어 있다. 서버는 지원하는 알고리즘과 TLS 버전을 확인해 "server hello"를 보낸다. 그 다음 서버는 SSL 인증서를 보낸다. SSL 인증서에는 서버의 공개 키, 호스트 이름, 만료 날짜 등이 포함되어있다. 인증서를 받은 클라이언트는 인증서를 검증한다.
  
3. SSL 인증서를 검증한 클라이언트는 세션 키를 생성 후 공개키를 사용해 암호화한다. 서버는 암호화된 세션키를 개인 키로 복호화해 세션 키를 얻는다.
  
4. 클라이언트와 서버는 동일한 키(세션 키)를 이용해 데이터를 암호화 하여 통신한다.
  
따라서 중간에 데이터를 탈취당하더라도 공격자는 세션키를 모르기 때문에 데이터를 복호화하지 못한다.

## HTTPS에서 대칭 암호화를 사용하는 이유
- 보안: 비대칭 암호화는 한 방향으로만 이루어진다. 서버가 암호화된 데이터를 클라이언트에게 보낼 때 데이터를 탈취당한다면, 서버의 공개키를 사용해 누구나 데이터를 해독할 수 있게된다.
- 리소스: 비대칭 암호화는 수학적 오버헤드를 발생시키기 때문에 데이터 전송에 적합하지 않다.