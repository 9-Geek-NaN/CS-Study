# Microservice Best Practices

> 마이크로 서비스 개발을 위한 9가지 모범 사례

![alt text](https://github.com/ByteByteGoHq/system-design-101/blob/main/images/microservice-best-practices.jpeg?raw=true)

### 1. 각각의 마이크로서비스는 자신의 데이터 저장소를 가져야한다.
- 서비스의 독립성(배포, 기능적 독립)을 보장
- 다양한 기술 선택 가능(SQL과 NoSQL을 섞어서 사용 등)
### 2. 코드를 비슷한 성숙도 레벨로 유지해야한다.
> 코드가 비슷한 성숙도 레벨로 유지된다는 것은 코드 스타일, 설계 원칙, 테스트 및 배포 수준, 유지보수성들이 균등해야 함을 의미한다.
- 서비스들의 설계 원칙이 동일하다면, 코드의 유지 보수성이 향상된다.
- 일부 서비스의 낮은 성숙도는 전체 시스템에 문제를 야기할 가능성이 있다.
### 3. 각 마이크로서비스들은 각각 빌드되어야 한다.
### 4. 각 마이크로서비스들은 서비스의 기능에 대한 책임만을 가져야한다.
- 책임을 최소화함으로 인해 개발자들이 개발에 집중할 수 있는 환경을 구성할 수 있다.
### 5. 컨테이너에 배포되어야 한다.
> 컨테이너의 장점들이 마이크로 서비스 아키텍처의 특성과 잘 어울리기 때문에 컨테이너로 배포할 경우 이점이 많다.
- 독립적인 실행환경을 제공하기 때문에 서비스가 서로 다른 언어나 프레임워크를 사용하더라도 충돌없이 실행이 가능하다.
- 컨테이너의 수평적 확장 용이성은 마이크로 서비스 아키텍처가 추구하는 서비스단위의 확장과 잘 어울린다.
- 컨테이너간 독립된 환경으로 실행되기 때문에 장애 발생시 다른 서비스에 영향을 주지 않는다.
### 6. stateless 서비스로 설계해야한다.
> 확장성과 유연한 배포, 설계의 단순화를 위함
- 서버가 상태를 관리하지 않기 때문에 새로운 서버를 추가하는 등의 확장을 손쉽게 수행할 수 있다.
- 이전 상태를 신경쓸 필요없이 배포가 가능하다.
- 상태 관리를 제거할 수 있기 때문에 설계가 단순해진다.
- RESTful API, JWT 등이 있다.
### 7. 도메인 중심 설계를 해야한다.

> Domain-Driven Design(DDD): 비즈니스 도메인의 복잡성을 해결하기 위해 소프트웨어 설계에 집중하는 방법론으로, 소프트웨어가 해결해야하는 문제를 도메인을 중심으로 추상화하여 설계 및 구현을 진행한다.

> 도메인: 해결하려는 문제 영역이나 비즈니스의 핵심 주제
- Bounded Context를 통해 서비스의 책임과 경계를 명확히 정의할 수 있다.
- 소프트웨어가 비즈니스 도메인과 밀접한 관계를 가지기 때문에 비즈니스 요구사항이 변경되었을 때 유연하게 대응이 가능하다.
- 서비스가 특정 도메인에 집중하기 때문에, 변경사항이 다른 서비스에 미치는 영향이 최소화된다.
### 8. 마이크로 프론트엔드로 설계해야한다.
> 마이크로 프론트엔드: 마이크로서비스 아키텍처의 프론트엔드 버전이라고 볼 수 있다.
프론트엔드 애플리케이션을 기능 단위로 나누어 독립적인 팀이 개발하고 배포하는 형태
### 9. 서비스들을 오케스트레이션 해야한다.
> 장애 복구, 배포 자동화, 스케일링 및 로드밸런싱 등의 이유로 오케스트레이션 프레임워크를 사용해야 한다.
