# 🚀 마이크로서비스 아키텍처 기술 스택 완벽 가이드

## 목차
1. Pre-Production (사전 제작 단계)
2. Production (운영 단계)

## 1. Pre-Production (사전 제작 단계)

### 1.1. API 정의
- **주요 목적**:
    - 개발자가 프론트엔드와 백엔드 간의 통신 규약을 명확하게 정의하는 단계임
    - API 스펙을 미리 정의함으로써 프론트엔드와 백엔드 팀의 병렬 개발이 가능함

- **핵심 도구**:
    - OpenAPI(Swagger):
        - 장점: REST API의 설계, 문서화, 테스트를 한 번에 처리할 수 있음
        - 단점: 초기 학습 곡선이 있으며, 복잡한 API의 경우 문서 관리가 어려울 수 있음

    - Postman:
        - 장점: 직관적인 UI로 API 테스트와 문서화가 용이함
        - 단점: 대규모 팀에서 버전 관리가 복잡할 수 있음

### 1.2. 개발 단계
- **UI 개발**:
    - React:
        - 장점:
            - 컴포넌트 기반 개발로 재사용성이 높음
            - Virtual DOM으로 성능이 우수함
            - 큰 개발자 커뮤니티와 풍부한 생태계
        - 단점:
            - 지속적인 업데이트로 인한 학습 부담이 있음
            - 상태 관리 설계가 복잡할 수 있음
          

- **마이크로서비스 개발**:
    - Java:
        - 장점:
            - 안정적이고 성숙한 생태계
            - 강력한 타입 시스템 제공
            - 풍부한 라이브러리와 프레임워크
        - 단점:
            - 상대적으로 더 많은 보일러플레이트 코드가 필요함
            - 메모리 사용량이 높을 수 있음

    - Spring Boot:
        - 장점:
            - 자동 구성으로 빠른 개발이 가능함
            - 마이크로서비스 아키텍처 지원이 우수함
            - 내장 서버 제공
        - 단점:
            - 메모리 사용량이 높을 수 있음
            - NodeJS 서버를 실행하면 약 50MB 메모리 사용하는데 Spring은 500MB(톰캣 포함) 사용 
            - `````-> 이전에 해본 거라 정확하지 않을 수 있음.!`````
            - 초기 설정이 복잡할 수 있음

### 1.3. API Gateway 구성
- **주요 구성 요소**:
    - 라우팅 규칙 설정
    - 인증/인가 정책 구현
    - 속도 제한 및 쓰로틀링 설정
    - 로깅 및 모니터링 구성

- **구성 시 고려사항**:
    - 보안 정책 설정
    - 트래픽 관리 전략
    - 서비스 디스커버리 연동
    - 에러 처리 및 폴백 전략

### 1.4. 테스트 및 배포 자동화
- **테스트 자동화**:
    - JUnit:
        - 장점:
            - Java 생태계의 표준 테스트 프레임워크임
            - 풍부한 assertion 라이브러리 제공
            - IDE 통합이 우수함
        - 단점:
            - 복잡한 시나리오의 경우 설정이 번거로울 수 있음
            - 동시성 테스트가 까다로울 수 있음

    - Jenkins:
        - 장점:
            - 풍부한 플러그인 생태계 제공
            - 높은 커스터마이징 가능성
            - 다양한 SCM 지원
        - 단점:
            - 설정과 유지보수가 복잡할 수 있음
            - UI가 현대적이지 않음

- **컨테이너화 및 배포**:
    - Docker:
        - 장점:
            - 일관된 개발/운영 환경 제공
            - 높은 이식성
            - 빠른 배포 및 확장 가능
        - 단점:
            - 이미지 크기 관리와 보안 설정에 주의가 필요함
            - 네트워킹 구성이 복잡할 수 있음

    - Kubernetes:
        - 장점:
            - 자동 스케일링 기능 제공
            - 선언적 배포 지원
            - 자동 복구 기능
        - 단점:
            - 학습 곡선이 가파름
            - 초기 설정이 복잡함

## 2. Production (운영 단계)

### 2.1. 클라이언트 접근 계층
- **로드 밸런서**:
    - Nginx:
        - 장점:
            - 높은 성능과 낮은 리소스 사용
            - 유연한 설정 가능
            - 리버스 프록시 기능 제공
        - 단점:
            - 설정이 복잡할 수 있음
            - 동적 설정 변경이 어려움

- **CDN (Content Delivery Network)**:
    - Cloudflare:
        - 설명: 전 세계에 분산된 서버 네트워크를 통해 웹 콘텐츠를 최종 사용자와 가까운 위치에서 제공하는 서비스
        - 주요 기능:
            - DDoS 공격 방어
            - WAF(Web Application Firewall) 제공
            - SSL/TLS 인증서 관리
            - 이미지 최적화 및 압축
        - 장점:
            - 글로벌 캐싱으로 빠른 콘텐츠 전송
            - 강력한 보안 기능 제공
        - 단점:
            - 일부 고급 기능의 비용이 높음
            - DNS 설정 변경이 필요함

### 2.2. API 게이트웨이 계층
- **서비스 디스커버리**:
    - Netflix Eureka:
        - 장점:
            - Spring Cloud와의 통합이 우수함
            - 클라이언트 사이드 로드밸런싱 지원
            - 동적 스케일링에 효과적
        - 단점:
            - 대규모 클러스터에서 성능 이슈 가능
            - Netflix OSS 의존성

    - Apache ZooKeeper:
        - 설명: 분산 애플리케이션을 위한 중앙집중식 서비스로, 구성 정보 관리, 네이밍, 분산 동기화 제공
        - 주요 기능:
            - 분산 시스템 구성 정보 관리
            - 서비스 등록 및 검색
            - 리더 선출 및 분산 락 구현
        - 장점:
            - 안정적인 분산 조정 기능
            - 높은 신뢰성
        - 단점:
            - 설정과 운영이 복잡함
            - 학습 곡선이 높음

### 2.3. 서비스 간 통신
- **RPC (Remote Procedure Call)**:
    - gRPC:
        - 장점:
            - 높은 성능
            - 강력한 타입 시스템
            - 다중 언어 지원
        - 단점:
            - HTTP/1.1 호환성 문제
            - 디버깅이 어려울 수 있음

    - Apache Thrift:
        - 설명: Facebook에서 개발한 크로스 플랫폼 RPC 프레임워크
        - 주요 기능:
            - 다양한 프로그래밍 언어 지원
            - 효율적인 바이너리 직렬화
            - 서버/클라이언트 코드 자동 생성
        - 장점:
            - 효율적인 프로토콜
            - 유연한 구성 가능
        - 단점:
            - 커뮤니티가 상대적으로 작음
            - 문서화가 부족함

### 2.4. 데이터 관리 계층
- **캐시**:
    - Redis:
        - 장점:
            - 다양한 데이터 구조 지원
            - 높은 성능
            - 풍부한 기능 세트
        - 단점:
            - 메모리 관리에 주의 필요
            - 클러스터 구성이 복잡할 수 있음

- **검색 엔진 (Search Engine)**:
    - 설명: 대량의 데이터에서 특정 정보를 빠르게 찾고 분석하기 위한 시스템
    - Elasticsearch:
        - 장점:
            - 강력한 전문 검색 기능
            - 실시간 분석 가능
            - 확장성이 우수함
        - 단점:
            - 리소스 사용량이 높음
            - 운영 복잡도가 높음

- **메시지 브로커 (Message Broker)**:
    - 설명: 애플리케이션, 서비스 간 메시지를 중개하는 미들웨어
    - Apache Kafka:
        - 장점:
            - 높은 처리량
            - 뛰어난 내구성
            - 우수한 확장성
        - 단점:
            - 운영 복잡도가 높음
            - 모니터링 필요성이 높음

### 2.5. 데이터 저장소
- **관계형 데이터베이스**:
    - MySQL:
        - 장점:
            - 안정적인 성능
            - 강력한 트랜잭션 지원
            - 큰 커뮤니티
        - 단점:
            - 대규모 스케일링이 어려움
            - 일부 고급 기능이 제한적

    - PostgreSQL:
        - 장점:
            - 고급 데이터 타입 지원
            - JSON 지원
            - 풍부한 확장 기능
        - 단점:
            - 설정 최적화가 복잡함
            - 리소스 사용량이 높을 수 있음

- **객체 스토리지**:
    - Amazon S3:
        - 장점:
            - 무제한 확장성
            - 높은 내구성
            - 비용 효율적
        - 단점:
            - 데이터 접근 지연 발생 가능
            - 비용 관리 필요

- **와이드 컬럼 데이터베이스**:
    - 설명: 대량의 데이터를 처리하기 위한 NoSQL 데이터베이스의 한 종류
    - Apache Cassandra:
        - 주요 특징:
            - 수평적 확장 용이
            - 대량 쓰기 작업 최적화
            - 유연한 스키마
        - 장점:
            - 높은 가용성
            - 뛰어난 확장성
        - 단점:
            - 복잡한 쿼리 제한
            - 조인 연산 제한

### 2.6. 운영 및 모니터링
- **모니터링 도구**:
    - Prometheus:
        - 장점:
            - 강력한 쿼리 언어
            - 효과적인 알림 기능
            - 시계열 데이터 처리 최적화
        - 단점:
            - 장기 데이터 저장에 제한
            - 초기 설정이 복잡함