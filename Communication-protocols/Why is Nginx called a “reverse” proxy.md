# Why is Nginx called a “reverse” proxy?

![Forward_Proxy_v s _Reverse_Proxy2x](https://github.com/user-attachments/assets/c654c589-1ee8-49a3-bcd5-819f7e3e9266)


## **Forward Proxy**

Forward Proxy는 사용자가 인터넷에 접근할 때 중간에 위치하여 요청을 대신 처리하는 서버입니다

### **Forward Proxy의 역할**

- 사용자 보호: 사용자의 실제 IP 주소를 숨겨 익명성을 보장합니다
- 우회 접속: 지역 제한된 콘텐츠(예: 특정 국가에서만 접근 가능한 웹사이트)에 접근할 수 있도록 돕습니다
- 접근 제어: 기업이나 학교에서 직원이나 학생의 인터넷 사용을 관리하기 위해 사용됩니다

### **Forward Proxy의 작동 과정**

1. 사용자가 어떤 웹사이트에 접근하려고 요청
    - 예: “넷플릭스에 접속하고 싶어요”
2. Forward Proxy 서버가 사용자의 요청을 대신 받아 웹사이트에 전달
    - 예: “어이~사용자가 아닌 내가 넷플릭스에 접속할게”
3. 웹사이트로부터 받은 응답을 Forward Proxy 서버가 다시 사용자에게 전달
    - 예: “넵! 넷플릭스 콘텐츠를 가져왔으니 여기 있어요”

### **사용 사례**

- 기업/학교의 인터넷 관리: 직원이나 학생이 특정 사이트에 접근하지 못하게 차단하거나, 인터넷 사용을 모니터링
- 익명 브라우징: 사용자의 실제 IP 주소를 숨기고, Proxy 서버의 IP를 사용하여 웹사이트에 접속
- 우회 접속: 해외에서 한국 넷플릭스에 접속하거나, 국내에서 해외 콘텐츠를 보고 싶을 때

## **Reverse Proxy**

Reverse Proxy는 서버 앞단에 위치하여 사용자 요청을 대신 처리하고 서버를 보호하는 역할을 합니다

### **Reverse Proxy의 역할**

- 서버 보호: 사용자가 서버에 직접 접근하지 못하게 하여 보안을 강화합니다
- 로드밸런싱: 여러 서버로 트래픽을 분산하여 과부하를 방지합니다
- 캐싱: 자주 요청되는 콘텐츠를 미리 저장해 속도를 높이고 서버의 부담을 줄입니다
- SSL(Secure Sockets Layer) 처리: HTTPS 통신을 위한 암호화/복호화를 대신 처리합니다

<aside>
💡

*TMI: 현재는 더 향상된 버전인 TLS(Transport Layer Security)가 사용됨*

</aside>

### **Reverse Proxy의 작동 과정**

1. 사용자가 웹사이트에 요청을 보냅니다
    - 예: “쇼핑몰 웹사이트에 접속하고 싶어요.”
2. Reverse Proxy 서버가 요청을 대신 받아 내부 서버로 전달합니다
    - 예: “내가 대신 서버에 요청할게.”
3. 내부 서버에서 응답을 받고, Reverse Proxy 서버가 사용자에게 다시 전달합니다
    - 예: “쇼핑몰 서버에서 받은 데이터를 전달할게.”

### **사용 사례**

- 로드밸런싱: 하나의 서버가 아닌 여러 대의 서버로 요청을 분산하여 안정적인 서비스 제공
    - 예: 대형 쇼핑몰에서 한 번에 수천 명이 접속해도 사이트가 느려지지 않음
- DDoS 공격 방어: 수많은 트래픽을 대신 처리해 서버를 보호
    - 예: 공격이 Reverse Proxy 서버에서 차단되므로 내부 서버는 안전
- SSL 처리: HTTPS 트래픽을 처리해 내부 서버의 부담을 줄임
    - 예: 웹사이트가 안전한 통신(HTTPS)을 제공

## **Forward Proxy와 Reverse Proxy의 주요 차이**

|  | **Forward Proxy** | **Reverse Proxy** |
| --- | --- | --- |
| **위치** | 사용자 앞단에 위치 | 서버 앞단에 위치 |
| **목적** | 사용자를 보호하고 익명성을 제공 | 서버를 보호하고 부하를 분산 |
| **사용 주체** | 주로 사용자나 기업 | 주로 서버 운영자 |
| **사용 사례** | 지역 제한 우회, 접근 제어, 익명 브라우징 | 로드 밸런싱, 캐싱, DDoS 방어 |

## **왜 Nginx는 Reverse Proxy로 사용될까?**

### **로드밸런싱**

여러 서버로 트래픽을 분산해 대규모 트래픽도 효율적으로 처리

<aside>
💡

Nginx는 **요청을 여러 서버로 자동으로 분산**하는 로드밸런싱 기능을 제공합니다

- **방법**
    - Round Robin: 모든 서버에 순차적으로 요청 분배
    - Least Connections: 현재 연결이 적은 서버에 요청 전달
    - IP Hash: 특정 사용자의 요청을 같은 서버로 유지
- **효과**
    - 서버 과부하 방지
    - 서버 장애 발생 시 자동으로 다른 서버로 요청 전달(Failover)
</aside>

- 예: 대형 쇼핑몰에서 수많은 고객 요청 처리

### **보안 강화**

사용자가 직접 내부 서버에 접근하지 못하므로 민감한 데이터를 보호

<aside>
💡

Nginx는 사용자 요청을 중간에서 처리하기 때문에, 내부 서버가 외부에 노출되지 않도록 보호합니다

- DDoS 방어
    - Nginx가 요청 속도를 제한해 악의적인 트래픽을 차단
    - 서버 다운을 방지
- IP 및 도메인 보호
    - 사용자가 실제 서버의 IP나 위치를 알 수 없게함
    - 예: “공격자가 쇼핑몰 서버의 IP를 알 수 없으니 직접 공격이 어려움.”
</aside>

- 예: 고객 정보나 결제 데이터를 안전하게 관리

### **캐싱**

자주 요청되는 이미지, 동영상 등을 캐싱해 속도 향상

<aside>
💡

Nginx는 정적 콘텐츠(이미지, CSS, JS 파일 등)를 캐싱하여 사용자에게 빠르게 제공합니다

- 효과
    - 서버 부하 감소.
    - 사용자 응답 시간 단축.
    - 예시: “자주 요청되는 상품 이미지나 동영상은 Nginx 캐시에서 즉시 제공.”
</aside>

### **SSL 암호화**

HTTPS를 위한 암호화/복호화 작업을 대신 처리해 내부 서버 부담 감소

<aside>
💡

Nginx는 HTTPS를 위한 **SSL/TLS 암호화** 작업을 대신 처리합니다.

- **효과**
    - 서버 부담 감소: SSL 작업이 CPU 사용량이 높기 때문에 Nginx가 이를 처리하면 내부 서버의 성능 유지
    - 사용자 데이터 보호: 암호화된 통신으로 보안 강화
</aside>