# Code First vs. API First

> Code First vs. API First Development

![enter image description here](https://github.com/kjr2020/eddie-storage/blob/main/images/code-vs-api.png?raw=true)


### 우리는 왜 코드작성에 앞서 API를 작성해야 하는가?

#### 마이크로서비스 아키텍처와 API

>기존 모놀리식 아키텍처는 시스템의 기능들이 **단일 코드베이스**로 구성되어 있었기 때문에 기능 하나가 멈추면 전체 시스템이 멈추고, 특정 기능에 부하가 생기더라도 전체 시스템을 확장해야하는 등의 문제가 발생하였고, 해당 문제점들과 **클라우드 컴퓨팅의 등장**, DevOps 문화의 확산 등의 이유로 시스템을 **기능 단위**로 분리하여 설계하는 **마이크로서비스 아키텍처**가 등장하게 되었다.
- 마이크로서비스 아키텍처는 시스템의 기능들을 분리함으로써 확장성, 장애 전파 등 기존 모놀리식 아키텍처의 한계를 극복하였다.
- 하지만 시스템의 기능들이 하나의 서비스로써 존재하기 때문에 시스템이 복잡해지고 이에따라 서비스간 발생하는 많은 통신들을 제어해야한다는 새로운 단점이 등장하였다.
- 기능간의 통신의 증가는 자연스럽게 API의 수를 증가시키는 결과를 가져왔다.

#### API First Development
 
> 마이크로서비스 아키텍처의 등장으로 인해 분리된 기능들은 일반적으로 서로 다른 개발팀이 담당하게 되었다. 이에 따라 각각의 팀에서 개발한 기능들이 서로 소통해야하는 상황이 발생하였고, 팀 간 혼선을 방지하기위해 API의 명확한 정의가 필요해졌다.

- API First Development를 적용하기 위해서는 먼저, 시스템의 복잡도를 파악하고 서비스의 경계를 명확히 정의해야한다.
- 각각의 개발 팀은 자신들이 개발한 서비스와 컴포넌트에 대한 책임만을 가진다.
- 각 팀은 서로 다른 기술 스택과 플랫폼을 사용할 수 있지만, 서비스간 소통을 위해서 공통된 데이터 포맷과 규칙을 준수해야한다.
- API 설계를 통해 소통을 위한 공통의 데이터 포맷,  통신 방식, 전송 규칙 등을 명확히 정의한다.

#### API First Development의 기대 효과

API First Development 방식은 다음과 같은 효과를 기대할 수 있다.

1. 프로젝트 시작 시 대부분의 불확실성을 해소했기 때문에 개발 과정이 원활하게 진행된다.
2. 개발자들은 갑작스러운 변경사항과 이를 해결하기 위해 협상을 하는 시간들을 줄일 수 있고, 기능 개발에 집중할 수 있게되어 만족도가 높아진다.
3. API를 먼저 설계했기 때문에 코드가 개발되는 동안 테스트를 함께 설계할 수 있다. 즉, 개발과 테스트 프로세스를 동시에 진행할 수 있게된다.

따라서, API First Development 방식을 적용하면 소프트웨어의 품질과 개발 생산성이 크게 개선되는 효과를 기대할 수 있다.
